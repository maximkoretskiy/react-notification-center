!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.NotificationCenter=t()}}(function(){return function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return o(n?n:t)},f,f.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(t){return"function"==typeof t}function r(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!r(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,n,i,r,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,r=new Array(i-1),u=1;i>u;u++)r[u-1]=arguments[u];n.apply(this,r)}else if(s(n)){for(i=arguments.length,r=new Array(i-1),u=1;i>u;u++)r[u-1]=arguments[u];for(l=n.slice(),i=l.length,u=0;i>u;u++)l[u].apply(this,r)}return!0},i.prototype.addListener=function(t,e){var n;if(!o(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,o(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var n;n=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!o(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},i.prototype.removeListener=function(t,e){var n,i,r,a;if(!o(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],r=n.length,i=-1,n===e||o(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=r;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],o(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?o(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?o(t._events[e])?1:t._events[e].length:0}},{}],2:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o=t("./NotificationLog"),r=i(o),s=t("./NotificationCenterComponent"),a=i(s),u=t("./NotificationCounter"),l=i(u),f=t("./NotificationListenMixin"),c=i(f),p=t("./notificationStore"),d=i(p);n["default"]={NotificationCenter:a["default"],NotificationCounter:l["default"],NotificationListenMixin:c["default"],NotificationLog:r["default"],notificationStore:d["default"]},e.exports=n["default"]},{"./NotificationCenterComponent":3,"./NotificationCounter":4,"./NotificationListenMixin":5,"./NotificationLog":6,"./notificationStore":7}],3:[function(t,e,n){(function(i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r="undefined"!=typeof window?window.React:"undefined"!=typeof i?i.React:null,s=o(r),a=t("react/addons"),u=t("./NotificationListenMixin"),l=o(u),f=t("./NotificationLog"),c=o(f),p=a.addons.CSSTransitionGroup,d=s["default"].createClass({displayName:"NotificationCenter",propTypes:{iconTagClose:s["default"].PropTypes.element,iconTagImportant:s["default"].PropTypes.element,iconTagUnImportant:s["default"].PropTypes.element,iconTagNext:s["default"].PropTypes.element,logButtonText:s["default"].PropTypes.string,messages:s["default"].PropTypes.array,onClickLogButton:s["default"].PropTypes.func,onComplete:s["default"].PropTypes.func,showLogButton:s["default"].PropTypes.bool},mixins:[l["default"]],getDefaultProps:function(){return{iconTagClose:s["default"].createElement("i",{className:"fa fa-times-circle-o fa-3x"}),iconTagImportant:s["default"].createElement("i",{className:"fa fa-exclamation-triangle fa-3x"}),iconTagNext:s["default"].createElement("i",{className:"fa fa-long-arrow-right fa-2x"}),iconTagUnImportant:s["default"].createElement("i",{className:"fa fa-check-circle-o fa-3x"}),messages:[]}},componentWillMount:function(){this.store.setFromProps(this.props.messages)},onClickComplete:function(t){this.store.setComplete(t.id),this.props.onComplete&&this.props.onComplete(t)},onClickLogButton:function(){this.props.onClickLogButton&&this.props.onClickLogButton(),this.store.toggleLog(!1)},renderCloseIcon:function(t){var e=void 0;return e=t.important&&t.count>1?s["default"].createElement("div",null,this.props.iconTagNext,s["default"].createElement("span",null,t.count)):this.props.iconTagClose},renderNotification:function(t){var e=t.important?this.props.iconTagImportant:this.props.iconTagUnImportant,n=t.important?"important":t.id;return s["default"].createElement("div",{key:n,className:"notification"},s["default"].createElement("div",{className:"notification--wrap"},s["default"].createElement("div",{className:"notification--left"},e),s["default"].createElement("div",{className:"notification--content"},t.text),s["default"].createElement("div",{className:"notification--right",onClick:this.onClickComplete.bind(this,t)},this.renderCloseIcon(t))))},renderNotificationLog:function(){return s["default"].createElement(c["default"],{key:"log",iconTagImportant:this.props.iconTagImportant,items:this.store.getNotificationsLog(),onClickLogButton:this.onClickLogButton,logButtonText:this.props.logButtonText,showLogButton:this.props.showLogButton})},render:function(){var t=this,e=this.store.getUnImportantNotifications().map(function(e){return t.renderNotification(e)});if(this.state.showLog)e.push(this.renderNotificationLog());else{var n=this.store.getImportantNotificationsGroup();n&&e.push(this.renderNotification(n))}return s["default"].createElement("div",null,s["default"].createElement(p,{transitionName:"notification"},e))}});n["default"]=d,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./NotificationListenMixin":5,"./NotificationLog":6,"react/addons":void 0}],4:[function(t,e,n){(function(i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r="undefined"!=typeof window?window.React:"undefined"!=typeof i?i.React:null,s=o(r),a=t("classnames"),u=o(a),l=t("./NotificationListenMixin"),f=o(l),c=s["default"].createClass({displayName:"NotificationCounter",propTypes:{iconTag:s["default"].PropTypes.element},mixins:[f["default"]],getDefaultProps:function(){return{iconTag:s["default"].createElement("i",{className:"fa fa-bell-o fa-lg"})}},onClick:function(){this.store.toggleLog()},render:function(){var t=u["default"]({"notification-counter":!0,__active:this.state.showLog});return s["default"].createElement("div",{onClick:this.onClick,className:t},this.props.iconTag,s["default"].createElement("div",{className:"notification-counter--value"},this.store.countNotifications()))}});n["default"]=c,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./NotificationListenMixin":5,classnames:void 0}],5:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o=t("./notificationStore"),r=i(o),s={getInitialState:function(){return this.store=r["default"],this.store.getState()},componentWillMount:function(){this.nstore=this.store.on("update",this.onCheckStore)},componentWillUnmount:function(){this.store.removeListener("update",this.onCheckStore)},onCheckStore:function(t){this.setState(t)}};n["default"]=s,e.exports=n["default"]},{"./notificationStore":7}],6:[function(t,e,n){(function(t){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(t,e,n){for(var i=!0;i;){var o=t,r=e,s=n;a=l=u=void 0,i=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var u=a.get;return void 0===u?void 0:u.call(s)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;t=l,e=r,n=s,i=!0}},u="undefined"!=typeof window?window.React:"undefined"!=typeof t?t.React:null,l=i(u),f={iconTagImportant:l["default"].PropTypes.element.isRequired,items:l["default"].PropTypes.array.isRequired,logButtonText:l["default"].PropTypes.string,onClickLogButton:l["default"].PropTypes.func,showLogButton:l["default"].PropTypes.bool},c={logButtonText:"Notifications Log"},p=function(t){function e(){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return r(e,t),s(e,[{key:"onClickLogButton",value:function(){this.props.onClickLogButton&&this.props.onClickLogButton()}},{key:"renderItem",value:function(t){return l["default"].createElement("div",{key:t.id,className:"notification-log--item notification __type_log"},l["default"].createElement("div",{className:"notification--wrap"},l["default"].createElement("div",{className:"notification--left"},this.props.iconTagImportant),l["default"].createElement("div",{className:"notification--content"},t.text),l["default"].createElement("div",{className:"notification--right"},t.date)))}},{key:"render",value:function(){var t=this,e=this.props.items.map(function(e){return t.renderItem(e)}),n=this.props.showLogButton?l["default"].createElement("div",{onClick:this.props.onClickLogButton,className:"notification-log--btn"},this.props.logButtonText):l["default"].createElement("div",null);return l["default"].createElement("div",{className:"notification-log"},e,n)}}]),e}(l["default"].Component);p.propTypes=f,p.defaultProps=c,n["default"]=p,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var o=t,r=e,s=n;a=l=u=void 0,i=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,r);if(void 0!==a){if("value"in a)return a.value;var u=a.get;return void 0===u?void 0:u.call(s)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;t=l,e=r,n=s,i=!0}},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=t("events"),l=function(t){function e(){var t=this;i(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.timer=null,this.timeout=3e3,this.state={messages:[],showLog:!1},this.on("update",function(){return t.startTick()})}return o(e,t),r(e,[{key:"getState",value:function(){return this.state}},{key:"setFromProps",value:function(t){var e=this.state.messages.map(function(t){return t.id}),n=t.reduce(function(t,n){return-1===e.indexOf(n.id)&&t.push(n),t},[]);if(n.length>0){var i=this.state.messages.concat(n);return this.state.messages=i,this.emit("update",this.state),!0}return!1}},{key:"addMessage",value:function(t){this.state.messages.push(t),this.emit("update",this.state)}},{key:"startTick",value:function(t){var e=this;if(!this.timer||void 0!==t){var n=this.getUnImportantNotifications();if(0!==n.length){var i=n[0].id;this.timer&&void 0!==t?(this.timer=null,i===t&&this.setComplete(i),this.startTick()):this.timer=setTimeout(function(){return e.startTick(i)},this.timeout)}}}},{key:"setComplete",value:function(t){this.state.messages.filter(function(e){return e.id===t}).forEach(function(t){return t.complete=!0}),this.emit("update",this.state)}},{key:"toggleLog",value:function(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(0!==this.getNotificationsLog().length){var e=null!==t?!!t:!this.state.showLog;this.state.showLog=e,e&&this.setImportantComplete(),this.emit("update",this.state)}}},{key:"setImportantComplete",value:function(){this.state.messages.filter(function(t){return t.important}).forEach(function(t){return t.complete=!0})}},{key:"countNotifications",value:function(){return this.getImportantNotifications().length}},{key:"getUnImportantNotifications",value:function(){return this.state.messages.filter(function(t){return!t.important&&!t.complete}).reverse()}},{key:"getImportantNotifications",value:function(){return this.state.messages.filter(function(t){return t.important&&!t.complete})}},{key:"getImportantNotificationsGroup",value:function(){var t=this.getImportantNotifications();if(0===t.length)return null;var e=a({},t[0]);return e.count=t.length,e}},{key:"getNotificationsLog",value:function(){return this.state.messages.filter(function(t){return t.important}).reverse().slice(0,5)}}]),e}(u.EventEmitter),f=new l;n["default"]=f,e.exports=n["default"]},{events:1}]},{},[2])(2)});