!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.NotificationCenter=t()}}(function(){return function t(e,n,o){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return i(n?n:t)},f,f.exports,t,e,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){function o(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function r(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0,o.defaultMaxListeners=10,o.prototype.setMaxListeners=function(t){if(!r(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},o.prototype.emit=function(t){var e,n,o,r,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(o=arguments.length,r=new Array(o-1),u=1;o>u;u++)r[u-1]=arguments[u];n.apply(this,r)}else if(s(n)){for(o=arguments.length,r=new Array(o-1),u=1;o>u;u++)r[u-1]=arguments[u];for(l=n.slice(),o=l.length,u=0;o>u;u++)l[u].apply(this,r)}return!0},o.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var n;n=a(this._maxListeners)?o.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},o.prototype.on=o.prototype.addListener,o.prototype.once=function(t,e){function n(){this.removeListener(t,n),o||(o=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var o=!1;return n.listener=e,this.on(t,n),this},o.prototype.removeListener=function(t,e){var n,o,r,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],r=n.length,o=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=r;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){o=a;break}if(0>o)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},o.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},o.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},o.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?i(t._events[e])?1:t._events[e].length:0}},{}],2:[function(t,e,n){(function(o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function(t,e,n){for(var o=!0;o;){var i=t,r=e,s=n;a=l=u=void 0,o=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,r);if(void 0!==a){if("value"in a)return a.value;var u=a.get;return void 0===u?void 0:u.call(s)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=r,n=s,o=!0}},l="undefined"!=typeof window?window.React:"undefined"!=typeof o?o.React:null,f=i(l),c=t("classnames"),p=i(c),d=function(t){function e(){r(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return s(e,t),a(e,[{key:"render",value:function(){var t=p["default"]("icon","icon--"+this.props.name,"icon--"+this.props.size),e="<svg class='icon__cnt'><use xlink:href='#"+this.props.name+"-icon' /></svg>";return f["default"].createElement("div",{className:t,dangerouslySetInnerHTML:{__html:e}})}}]),e}(f["default"].Component);n["default"]=d,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{classnames:void 0}],3:[function(t,e,n){(function(o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){return{isSingle:!0,isAnimated:!1}}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),l=function(t,e,n){for(var o=!0;o;){var i=t,r=e,s=n;a=l=u=void 0,o=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,r);if(void 0!==a){if("value"in a)return a.value;var u=a.get;return void 0===u?void 0:u.call(s)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=r,n=s,o=!0}},f="undefined"!=typeof window?window.React:"undefined"!=typeof o?o.React:null,c=i(f),p=t("react/addons"),d=t("classnames"),h=i(d),m=p.addons.CSSTransitionGroup,v={isSingle:c["default"].PropTypes.bool,isAnimated:c["default"].PropTypes.bool,data:c["default"].PropTypes.object.isRequired,onClickComplete:c["default"].PropTypes.func},g=function(t){function e(){r(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return s(e,t),u(e,[{key:"renderText",value:function(){var t=c["default"].createElement("div",{key:-this.props.data.id,className:"notification--text",dangerouslySetInnerHTML:{__html:this.props.data.text}});return c["default"].createElement("div",{className:"notification--cnt"},this.props.isAnimated?c["default"].createElement(m,{transitionName:"ntf-slide",className:"notification--anim"},t):t)}},{key:"renderRight",value:function(){var t=void 0,e=this.props.data;return this.props.isSingle?t=e.important&&e.count>1?c["default"].createElement("div",{className:"notification--next"},this.props.iconTagNext,c["default"].createElement("div",{className:"notification--count"},e.count)):c["default"].createElement("div",{className:"notification--close"},this.props.iconTagClose):e.date}},{key:"render",value:function(){var t=h["default"]({"notification-log--item":!this.props.isSingle,notification:!0,__type_item:this.props.isSingle,__type_log:!this.props.isSingle}),e=this.props.data;return c["default"].createElement("div",{className:t},c["default"].createElement("div",{className:"notification--wrap"},c["default"].createElement("div",{className:"notification--left"},e.important?this.props.iconTagImportant:this.props.iconTagUnImportant),this.renderText(),c["default"].createElement("div",{onClick:this.props.onClickComplete,className:"notification--right"},this.renderRight())))}}]),e}(c["default"].Component);g.propTypes=v,g.defaultProps=a,n["default"]=g,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{classnames:void 0,"react/addons":void 0}],4:[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t("./NotificationLog"),r=o(i),s=t("./NotificationCenterComponent"),a=o(s),u=t("./NotificationCounter"),l=o(u),f=t("./NotificationListenMixin"),c=o(f),p=t("./notificationStore"),d=o(p);n["default"]={NotificationCenter:a["default"],NotificationCounter:l["default"],NotificationListenMixin:c["default"],NotificationLog:r["default"],notificationStore:d["default"]},e.exports=n["default"]},{"./NotificationCenterComponent":5,"./NotificationCounter":6,"./NotificationListenMixin":7,"./NotificationLog":8,"./notificationStore":9}],5:[function(t,e,n){(function(o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r="undefined"!=typeof window?window.React:"undefined"!=typeof o?o.React:null,s=i(r),a=t("react/addons"),u=t("classnames"),l=(i(u),t("./NotificationListenMixin")),f=i(l),c=t("./NotificationLog"),p=i(c),d=t("./Notification"),h=i(d),m=t("./Icon"),v=i(m),g=a.addons.CSSTransitionGroup,y=s["default"].createClass({displayName:"NotificationCenter",propTypes:{iconTagClose:s["default"].PropTypes.element,iconTagImportant:s["default"].PropTypes.element,iconTagUnImportant:s["default"].PropTypes.element,iconTagNext:s["default"].PropTypes.element,logButtonText:s["default"].PropTypes.string,messages:s["default"].PropTypes.array,onClickLogButton:s["default"].PropTypes.func,onComplete:s["default"].PropTypes.func,showLogButton:s["default"].PropTypes.bool},mixins:[f["default"]],getDefaultProps:function(){return{iconTagClose:s["default"].createElement(v["default"],{size:"m",name:"ei-close"}),iconTagImportant:s["default"].createElement(v["default"],{size:"m",name:"ei-exclamation"}),iconTagNext:s["default"].createElement(v["default"],{size:"s",name:"ei-arrow-right"}),iconTagUnImportant:s["default"].createElement(v["default"],{size:"m",name:"ei-check"}),messages:[]}},componentWillMount:function(){this.store.setFromProps(this.props.messages)},onClickComplete:function(t){this.store.setComplete(t.id),this.props.onComplete&&this.props.onComplete(t)},onClickLogButton:function(){this.props.onClickLogButton&&this.props.onClickLogButton(),this.store.toggleLog(!1)},renderNotification:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=t.important&&e,o=n?"important":t.id;return s["default"].createElement(h["default"],{key:o,iconTagImportant:this.props.iconTagImportant,iconTagUnImportant:this.props.iconTagUnImportant,iconTagNext:this.props.iconTagNext,iconTagClose:this.props.iconTagClose,data:t,isSingle:e,isAnimated:!!t.count,onClickComplete:this.onClickComplete.bind(this,t)})},renderNotificationLog:function(){return s["default"].createElement(p["default"],{key:"log",iconTagImportant:this.props.iconTagImportant,items:this.store.getNotificationsLog(),onClickLogButton:this.onClickLogButton,logButtonText:this.props.logButtonText,showLogButton:this.props.showLogButton})},render:function(){var t=this,e=this.store.getUnImportantNotifications().map(function(e){return t.renderNotification(e)});if(this.state.showLog)e.push(this.renderNotificationLog());else{var n=this.store.getImportantNotificationsGroup();n&&e.push(this.renderNotification(n,!0))}return s["default"].createElement("div",{className:"notification-center"},s["default"].createElement(g,{transitionName:"notification"},e))}});n["default"]=y,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Icon":2,"./Notification":3,"./NotificationListenMixin":7,"./NotificationLog":8,classnames:void 0,"react/addons":void 0}],6:[function(t,e,n){(function(o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r="undefined"!=typeof window?window.React:"undefined"!=typeof o?o.React:null,s=i(r),a=t("classnames"),u=i(a),l=t("./NotificationListenMixin"),f=i(l),c=t("./Icon"),p=i(c),d=s["default"].createClass({displayName:"NotificationCounter",propTypes:{iconTag:s["default"].PropTypes.element},mixins:[f["default"]],getDefaultProps:function(){return{iconTag:s["default"].createElement(p["default"],{size:"s",name:"ei-bell"})}},onClick:function(){this.store.toggleLog()},render:function(){var t=this.store.countNotifications(),e=u["default"]({"notification-counter":!0,__active:this.state.showLog,__has_items:!!t});return s["default"].createElement("div",{onClick:this.onClick,className:e},s["default"].createElement("span",{className:"notification-counter--icon"},this.props.iconTag),s["default"].createElement("span",{className:"notification-counter--value"},t?t:""))}});n["default"]=d,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Icon":2,"./NotificationListenMixin":7,classnames:void 0}],7:[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t("./notificationStore"),r=o(i),s={getInitialState:function(){return this.store=r["default"],this.store.getState()},componentWillMount:function(){this.nstore=this.store.on("update",this.onCheckStore)},componentWillUnmount:function(){this.store.removeListener("update",this.onCheckStore)},onCheckStore:function(t){this.setState(t)}};n["default"]=s,e.exports=n["default"]},{"./notificationStore":9}],8:[function(t,e,n){(function(o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function(t,e,n){for(var o=!0;o;){var i=t,r=e,s=n;a=l=u=void 0,o=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,r);if(void 0!==a){if("value"in a)return a.value;var u=a.get;return void 0===u?void 0:u.call(s)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=r,n=s,o=!0}},l="undefined"!=typeof window?window.React:"undefined"!=typeof o?o.React:null,f=i(l),c=t("./Notification"),p=i(c),d={iconTagImportant:f["default"].PropTypes.element.isRequired,items:f["default"].PropTypes.array.isRequired,logButtonText:f["default"].PropTypes.string,onClickLogButton:f["default"].PropTypes.func,showLogButton:f["default"].PropTypes.bool},h={logButtonText:"Notifications Log"},m=function(t){function e(){r(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return s(e,t),a(e,[{key:"onClickLogButton",value:function(){this.props.onClickLogButton&&this.props.onClickLogButton()}},{key:"renderNotification",value:function(t){return f["default"].createElement(p["default"],{key:t.id,iconTagImportant:this.props.iconTagImportant,iconTagUnImportant:this.props.iconTagUnImportant,iconTagNext:this.props.iconTagNext,iconTagClose:this.props.iconTagClose,data:t,isSingle:!1})}},{key:"render",value:function(){var t=this,e=this.props.items.map(function(e){return t.renderNotification(e)});return this.props.viewAllButton&&e.push(f["default"].createElement("div",{onClick:this.props.onClickLogButton,className:"notification-log--btn"},this.props.logButtonText)),f["default"].createElement("div",{className:"notification-log notification-log--item'"},e)}}]),e}(f["default"].Component);m.propTypes=d,m.defaultProps=h,n["default"]=m,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Notification":3}],9:[function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=function(t,e,n){for(var o=!0;o;){var i=t,r=e,s=n;a=l=u=void 0,o=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,r);if(void 0!==a){if("value"in a)return a.value;var u=a.get;return void 0===u?void 0:u.call(s)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=r,n=s,o=!0}},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},u=t("events"),l=function(t){function e(){var t=this;o(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.timer=null,this.timeout=3e3,this.state={messages:[],showLog:!1},this.on("update",function(){return t.startTick()})}return i(e,t),r(e,[{key:"getState",value:function(){return this.state}},{key:"setFromProps",value:function(t){var e=this.state.messages.map(function(t){return t.id}),n=t.reduce(function(t,n){return-1===e.indexOf(n.id)&&t.push(n),t},[]);if(n.length>0){var o=this.state.messages.concat(n);return this.state.messages=o,this.emit("update",this.state),!0}return!1}},{key:"addMessage",value:function(t){this.state.messages.push(t),this.emit("update",this.state)}},{key:"startTick",value:function(t){var e=this;if(!this.timer||void 0!==t){var n=this.getUnImportantNotifications();if(0!==n.length){var o=n[0].id;this.timer&&void 0!==t?(this.timer=null,o===t&&this.setComplete(o),this.startTick()):this.timer=setTimeout(function(){return e.startTick(o)},this.timeout)}}}},{key:"setComplete",value:function(t){this.state.messages.filter(function(e){return e.id===t}).forEach(function(t){return t.complete=!0}),this.emit("update",this.state)}},{key:"toggleLog",value:function(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(0!==this.getNotificationsLog().length){var e=null!==t?!!t:!this.state.showLog;this.state.showLog=e,e&&this.setImportantComplete(),this.emit("update",this.state)}}},{key:"setImportantComplete",value:function(){this.state.messages.filter(function(t){return t.important}).forEach(function(t){return t.complete=!0})}},{key:"countNotifications",value:function(){return this.getImportantNotifications().length}},{key:"getUnImportantNotifications",value:function(){return this.state.messages.filter(function(t){return!t.important&&!t.complete}).reverse()}},{key:"getImportantNotifications",value:function(){return this.state.messages.filter(function(t){return t.important&&!t.complete})}},{key:"getImportantNotificationsGroup",value:function(){var t=this.getImportantNotifications();if(0===t.length)return null;var e=a({},t[0]);return e.count=t.length,e}},{key:"getNotificationsLog",value:function(){return this.state.messages.filter(function(t){return t.important}).reverse().slice(0,5)}}]),e}(u.EventEmitter),f=new l;n["default"]=f,e.exports=n["default"]},{events:1}]},{},[4])(4)});
//# sourceMappingURL=react-notification-center.min.js.map