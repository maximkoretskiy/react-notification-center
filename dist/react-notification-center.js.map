{"version":3,"names":[],"mappings":"","sources":["react-notification-center.js"],"sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.NotificationCenter = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],2:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar Icon = (function (_React$Component) {\n  _inherits(Icon, _React$Component);\n\n  function Icon() {\n    _classCallCheck(this, Icon);\n\n    _get(Object.getPrototypeOf(Icon.prototype), 'constructor', this).apply(this, arguments);\n  }\n\n  _createClass(Icon, [{\n    key: 'render',\n    value: function render() {\n      var rootClasses = (0, _classnames2['default'])('icon', 'icon--' + this.props.name, 'icon--' + this.props.size);\n      var svgTag = '<svg class=\\'icon__cnt\\'><use xlink:href=\\'#' + this.props.name + '-icon\\' /></svg>';\n      return _react2['default'].createElement('div', {\n        className: rootClasses,\n        dangerouslySetInnerHTML: { __html: svgTag }\n      });\n    }\n  }]);\n\n  return Icon;\n})(_react2['default'].Component);\n\nexports['default'] = Icon;\nmodule.exports = exports['default'];\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"classnames\":undefined}],3:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactAddons = require('react/addons');\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar CSSTransitionGroup = _reactAddons.addons.CSSTransitionGroup;\n\nvar propTypes = {\n  isSingle: _react2['default'].PropTypes.bool,\n  isAnimated: _react2['default'].PropTypes.bool,\n  data: _react2['default'].PropTypes.object.isRequired,\n  onClickComplete: _react2['default'].PropTypes.func\n};\n\nfunction defaultProps() {\n  return {\n    isSingle: true,\n    isAnimated: false\n  };\n}\n\nvar Notification = (function (_React$Component) {\n  _inherits(Notification, _React$Component);\n\n  function Notification() {\n    _classCallCheck(this, Notification);\n\n    _get(Object.getPrototypeOf(Notification.prototype), 'constructor', this).apply(this, arguments);\n  }\n\n  _createClass(Notification, [{\n    key: 'renderText',\n    value: function renderText() {\n      var textElement = _react2['default'].createElement('div', {\n        key: -this.props.data.id,\n        className: 'notification--text',\n        dangerouslySetInnerHTML: { __html: this.props.data.text }\n      });\n\n      return _react2['default'].createElement(\n        'div',\n        { className: 'notification--cnt' },\n        this.props.isAnimated ? _react2['default'].createElement(\n          CSSTransitionGroup,\n          {\n            transitionName: 'ntf-slide',\n            className: 'notification--anim'\n          },\n          textElement\n        ) : textElement\n      );\n    }\n  }, {\n    key: 'renderRight',\n    value: function renderRight() {\n      var iconTag = undefined;\n      var notification = this.props.data;\n      if (!this.props.isSingle) {\n        return notification.date;\n      }\n      if (notification.important && notification.count > 1) {\n        iconTag = _react2['default'].createElement(\n          'div',\n          { className: 'notification--next' },\n          this.props.iconTagNext,\n          _react2['default'].createElement(\n            'div',\n            { className: 'notification--count' },\n            notification.count\n          )\n        );\n      } else {\n        iconTag = _react2['default'].createElement(\n          'div',\n          { className: 'notification--close' },\n          this.props.iconTagClose\n        );\n      }\n      return iconTag;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var className = (0, _classnames2['default'])({\n        'notification-log--item': !this.props.isSingle,\n        notification: true,\n        __type_item: this.props.isSingle,\n        __type_log: !this.props.isSingle\n      });\n      var data = this.props.data;\n      return _react2['default'].createElement(\n        'div',\n        { className: className },\n        _react2['default'].createElement(\n          'div',\n          { className: 'notification--wrap' },\n          _react2['default'].createElement(\n            'div',\n            { className: 'notification--left' },\n            data.important ? this.props.iconTagImportant : this.props.iconTagUnImportant\n          ),\n          this.renderText(),\n          _react2['default'].createElement(\n            'div',\n            {\n              onClick: this.props.onClickComplete,\n              className: 'notification--right' },\n            this.renderRight()\n          )\n        )\n      );\n    }\n  }]);\n\n  return Notification;\n})(_react2['default'].Component);\n\nNotification.propTypes = propTypes;\nNotification.defaultProps = defaultProps;\n\nexports['default'] = Notification;\nmodule.exports = exports['default'];\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"classnames\":undefined,\"react/addons\":undefined}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _NotificationLog = require('./NotificationLog');\n\nvar _NotificationLog2 = _interopRequireDefault(_NotificationLog);\n\nvar _NotificationCenterComponent = require('./NotificationCenterComponent');\n\nvar _NotificationCenterComponent2 = _interopRequireDefault(_NotificationCenterComponent);\n\nvar _NotificationCounter = require('./NotificationCounter');\n\nvar _NotificationCounter2 = _interopRequireDefault(_NotificationCounter);\n\nvar _NotificationListenMixin = require('./NotificationListenMixin');\n\nvar _NotificationListenMixin2 = _interopRequireDefault(_NotificationListenMixin);\n\nvar _notificationStore = require('./notificationStore');\n\nvar _notificationStore2 = _interopRequireDefault(_notificationStore);\n\nexports['default'] = {\n  NotificationCenter: _NotificationCenterComponent2['default'],\n  NotificationCounter: _NotificationCounter2['default'],\n  NotificationListenMixin: _NotificationListenMixin2['default'],\n  NotificationLog: _NotificationLog2['default'],\n  notificationStore: _notificationStore2['default']\n};\nmodule.exports = exports['default'];\n\n},{\"./NotificationCenterComponent\":5,\"./NotificationCounter\":6,\"./NotificationListenMixin\":7,\"./NotificationLog\":8,\"./notificationStore\":9}],5:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _react = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactAddons = require('react/addons');\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _NotificationListenMixin = require('./NotificationListenMixin');\n\nvar _NotificationListenMixin2 = _interopRequireDefault(_NotificationListenMixin);\n\nvar _NotificationLog = require('./NotificationLog');\n\nvar _NotificationLog2 = _interopRequireDefault(_NotificationLog);\n\nvar _Notification = require('./Notification');\n\nvar _Notification2 = _interopRequireDefault(_Notification);\n\nvar _Icon = require('./Icon');\n\nvar _Icon2 = _interopRequireDefault(_Icon);\n\nvar CSSTransitionGroup = _reactAddons.addons.CSSTransitionGroup;\n\nvar NotificationCenter = _react2['default'].createClass({\n  displayName: 'NotificationCenter',\n\n  propTypes: {\n    iconTagClose: _react2['default'].PropTypes.element,\n    iconTagImportant: _react2['default'].PropTypes.element,\n    iconTagUnImportant: _react2['default'].PropTypes.element,\n    iconTagNext: _react2['default'].PropTypes.element,\n    logButtonText: _react2['default'].PropTypes.string,\n    messages: _react2['default'].PropTypes.array,\n    onClickLogButton: _react2['default'].PropTypes.func,\n    onComplete: _react2['default'].PropTypes.func,\n    showLogButton: _react2['default'].PropTypes.bool\n  },\n  mixins: [_NotificationListenMixin2['default']],\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      iconTagClose: _react2['default'].createElement(_Icon2['default'], { size: 'm', name: 'ei-close' }),\n      iconTagImportant: _react2['default'].createElement(_Icon2['default'], { size: 'm', name: 'ei-exclamation' }),\n      iconTagNext: _react2['default'].createElement(_Icon2['default'], { size: 's', name: 'ei-arrow-right' }),\n      iconTagUnImportant: _react2['default'].createElement(_Icon2['default'], { size: 'm', name: 'ei-check' }),\n      messages: []\n    };\n  },\n\n  componentWillMount: function componentWillMount() {\n    this.store.setFromProps(this.props.messages);\n  },\n\n  onClickComplete: function onClickComplete(item) {\n    this.store.setComplete(item.id);\n    if (this.props.onComplete) {\n      this.props.onComplete(item);\n    }\n  },\n\n  onClickLogButton: function onClickLogButton() {\n    if (this.props.onClickLogButton) {\n      this.props.onClickLogButton();\n    }\n    this.store.toggleLog(false);\n  },\n\n  renderNotification: function renderNotification(notification) {\n    var isSingle = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n\n    var isGrouped = notification.important && isSingle;\n    var key = isGrouped ? 'important' : notification.id;\n\n    return _react2['default'].createElement(_Notification2['default'], {\n      key: key,\n      iconTagImportant: this.props.iconTagImportant,\n      iconTagUnImportant: this.props.iconTagUnImportant,\n      iconTagNext: this.props.iconTagNext,\n      iconTagClose: this.props.iconTagClose,\n      data: notification,\n      isSingle: isSingle,\n      isAnimated: !!notification.count,\n      onClickComplete: this.onClickComplete.bind(this, notification)\n    });\n  },\n\n  renderNotificationLog: function renderNotificationLog() {\n    return _react2['default'].createElement(_NotificationLog2['default'], {\n      key: 'log',\n      iconTagImportant: this.props.iconTagImportant,\n      items: this.store.getNotificationsLog(),\n      onClickLogButton: this.onClickLogButton,\n      logButtonText: this.props.logButtonText,\n      showLogButton: this.props.showLogButton\n    });\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var items = this.store.getUnImportantNotifications().map(function (item) {\n      return _this.renderNotification(item);\n    });\n    if (this.state.showLog) {\n      items.push(this.renderNotificationLog());\n    } else {\n      var importantItem = this.store.getImportantNotificationsGroup();\n      if (importantItem) {\n        items.push(this.renderNotification(importantItem, true));\n      }\n    }\n\n    return _react2['default'].createElement(\n      'div',\n      { className: 'notification-center' },\n      _react2['default'].createElement(\n        CSSTransitionGroup,\n        { transitionName: 'notification' },\n        items\n      )\n    );\n  }\n});\n\nexports['default'] = NotificationCenter;\nmodule.exports = exports['default'];\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon\":2,\"./Notification\":3,\"./NotificationListenMixin\":7,\"./NotificationLog\":8,\"classnames\":undefined,\"react/addons\":undefined}],6:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _react = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _NotificationListenMixin = require('./NotificationListenMixin');\n\nvar _NotificationListenMixin2 = _interopRequireDefault(_NotificationListenMixin);\n\nvar _Icon = require('./Icon');\n\nvar _Icon2 = _interopRequireDefault(_Icon);\n\nvar NotificationCounter = _react2['default'].createClass({\n  displayName: 'NotificationCounter',\n\n  propTypes: {\n    iconTag: _react2['default'].PropTypes.element\n  },\n\n  mixins: [_NotificationListenMixin2['default']],\n  getDefaultProps: function getDefaultProps() {\n    return {\n      iconTag: _react2['default'].createElement(_Icon2['default'], { size: 's', name: 'ei-bell' })\n    };\n  },\n\n  onClick: function onClick() {\n    this.store.toggleLog();\n  },\n\n  render: function render() {\n    var count = this.store.countNotifications();\n    var className = (0, _classnames2['default'])({\n      'notification-counter': true,\n      __active: this.state.showLog,\n      __has_items: !!count\n    });\n    return _react2['default'].createElement(\n      'div',\n      { onClick: this.onClick, className: className },\n      _react2['default'].createElement(\n        'span',\n        { className: 'notification-counter--icon' },\n        this.props.iconTag\n      ),\n      _react2['default'].createElement(\n        'span',\n        { className: 'notification-counter--value' },\n        count ? count : ''\n      )\n    );\n  }\n});\n\nexports['default'] = NotificationCounter;\nmodule.exports = exports['default'];\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon\":2,\"./NotificationListenMixin\":7,\"classnames\":undefined}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _notificationStore = require('./notificationStore');\n\nvar _notificationStore2 = _interopRequireDefault(_notificationStore);\n\nvar NotificationListenMixin = {\n  getInitialState: function getInitialState() {\n    this.store = _notificationStore2['default'];\n    return this.store.getState();\n  },\n\n  componentWillMount: function componentWillMount() {\n    this.nstore = this.store.on('update', this.onCheckStore);\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    this.store.removeListener('update', this.onCheckStore);\n  },\n\n  onCheckStore: function onCheckStore(state) {\n    this.setState(state);\n  }\n};\n\nexports['default'] = NotificationListenMixin;\nmodule.exports = exports['default'];\n\n},{\"./notificationStore\":9}],8:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Notification = require('./Notification');\n\nvar _Notification2 = _interopRequireDefault(_Notification);\n\nvar propTypes = {\n  iconTagImportant: _react2['default'].PropTypes.element.isRequired,\n  items: _react2['default'].PropTypes.array.isRequired,\n  logButtonText: _react2['default'].PropTypes.string,\n  onClickLogButton: _react2['default'].PropTypes.func,\n  showLogButton: _react2['default'].PropTypes.bool\n};\n\nvar defaultProps = {\n  logButtonText: 'Notifications Log'\n};\n\nvar NotificationLog = (function (_React$Component) {\n  _inherits(NotificationLog, _React$Component);\n\n  function NotificationLog() {\n    _classCallCheck(this, NotificationLog);\n\n    _get(Object.getPrototypeOf(NotificationLog.prototype), 'constructor', this).apply(this, arguments);\n  }\n\n  _createClass(NotificationLog, [{\n    key: 'onClickLogButton',\n    value: function onClickLogButton() {\n      if (this.props.onClickLogButton) {\n        this.props.onClickLogButton();\n      }\n    }\n  }, {\n    key: 'renderNotification',\n    value: function renderNotification(notification) {\n      return _react2['default'].createElement(_Notification2['default'], {\n        key: notification.id,\n        iconTagImportant: this.props.iconTagImportant,\n        iconTagUnImportant: this.props.iconTagUnImportant,\n        iconTagNext: this.props.iconTagNext,\n        iconTagClose: this.props.iconTagClose,\n        data: notification,\n        isSingle: false\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this = this;\n\n      var items = this.props.items.map(function (i) {\n        return _this.renderNotification(i);\n      });\n\n      if (this.props.viewAllButton) {\n        items.push(_react2['default'].createElement(\n          'div',\n          { onClick: this.props.onClickLogButton, className: 'notification-log--btn' },\n          this.props.logButtonText\n        ));\n      }\n      return _react2['default'].createElement(\n        'div',\n        { className: 'notification-log notification-log--item\\'' },\n        items\n      );\n    }\n  }]);\n\n  return NotificationLog;\n})(_react2['default'].Component);\n\nNotificationLog.propTypes = propTypes;\nNotificationLog.defaultProps = defaultProps;\nexports['default'] = NotificationLog;\nmodule.exports = exports['default'];\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Notification\":3}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _events = require('events');\n\nvar NotificationStore = (function (_EventEmitter) {\n  _inherits(NotificationStore, _EventEmitter);\n\n  function NotificationStore() {\n    var _this = this;\n\n    _classCallCheck(this, NotificationStore);\n\n    _get(Object.getPrototypeOf(NotificationStore.prototype), 'constructor', this).call(this);\n    this.timer = null;\n    this.timeout = 1000 * 3;\n    this.state = {\n      messages: [],\n      showLog: false\n    };\n    this.on('update', function () {\n      return _this.startTick();\n    });\n  }\n\n  _createClass(NotificationStore, [{\n    key: 'getState',\n    value: function getState() {\n      return this.state;\n    }\n  }, {\n    key: 'setFromProps',\n    value: function setFromProps(messages) {\n      var addedIds = this.state.messages.map(function (notification) {\n        return notification.id;\n      });\n      var newMessages = messages.reduce(function (arr, current) {\n        if (addedIds.indexOf(current.id) === -1) {\n          arr.push(current);\n        }\n        return arr;\n      }, []);\n      if (newMessages.length > 0) {\n        var updatedMessages = this.state.messages.concat(newMessages);\n        this.state.messages = updatedMessages;\n        this.emit('update', this.state);\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: 'addMessage',\n    value: function addMessage(data) {\n      this.state.messages.push(data);\n      this.emit('update', this.state);\n    }\n  }, {\n    key: 'startTick',\n    value: function startTick(currentItemId) {\n      var _this2 = this;\n\n      if (this.timer && currentItemId === undefined) return;\n\n      var notComplete = this.getUnImportantNotifications();\n      if (notComplete.length === 0) return;\n\n      var nextItemId = notComplete[0].id;\n      if (this.timer && currentItemId !== undefined) {\n        this.timer = null;\n        if (nextItemId === currentItemId) {\n          this.setComplete(nextItemId);\n        }\n\n        this.startTick();\n      } else {\n        this.timer = setTimeout(function () {\n          return _this2.startTick(nextItemId);\n        }, this.timeout);\n      }\n    }\n  }, {\n    key: 'setComplete',\n    value: function setComplete(id) {\n      this.state.messages.filter(function (item) {\n        return item.id === id;\n      }).forEach(function (item) {\n        return item.complete = true;\n      });\n      this.emit('update', this.state);\n    }\n  }, {\n    key: 'toggleLog',\n    value: function toggleLog() {\n      var value = arguments.length <= 0 || arguments[0] === undefined ? null : arguments[0];\n\n      if (this.getNotificationsLog().length === 0) return;\n      var showLog = value !== null ? !!value : !this.state.showLog;\n      this.state.showLog = showLog;\n      if (showLog) {\n        this.setImportantComplete();\n      }\n      this.emit('update', this.state);\n    }\n  }, {\n    key: 'setImportantComplete',\n    value: function setImportantComplete() {\n      this.state.messages.filter(function (i) {\n        return i.important;\n      }).forEach(function (i) {\n        return i.complete = true;\n      });\n    }\n  }, {\n    key: 'countNotifications',\n    value: function countNotifications() {\n      return this.getImportantNotifications().length;\n    }\n  }, {\n    key: 'getUnImportantNotifications',\n    value: function getUnImportantNotifications() {\n      return this.state.messages.filter(function (i) {\n        return !i.important && !i.complete;\n      }).reverse();\n    }\n  }, {\n    key: 'getImportantNotifications',\n    value: function getImportantNotifications() {\n      return this.state.messages.filter(function (i) {\n        return i.important && !i.complete;\n      });\n    }\n  }, {\n    key: 'getImportantNotificationsGroup',\n    value: function getImportantNotificationsGroup() {\n      var importantList = this.getImportantNotifications();\n      if (importantList.length === 0) return null;\n      var firstItem = _extends({}, importantList[0]);\n      firstItem.count = importantList.length;\n      return firstItem;\n    }\n  }, {\n    key: 'getNotificationsLog',\n    value: function getNotificationsLog() {\n      return this.state.messages.filter(function (i) {\n        return i.important;\n      }).reverse().slice(0, 5);\n    }\n  }]);\n\n  return NotificationStore;\n})(_events.EventEmitter);\n\nvar notificationStore = new NotificationStore();\nexports['default'] = notificationStore;\nmodule.exports = exports['default'];\n\n},{\"events\":1}]},{},[4])(4)\n});"],"file":"react-notification-center.js","sourceRoot":"/source/"}